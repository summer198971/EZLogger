# EZ Logger 项目设置指南

EZ Logger 提供了完整的 Unity Project Settings 集成，让你可以通过图形界面轻松配置所有日志相关设置。

## 🚀 快速开始

### 1. 打开设置界面

有以下几种方式打开 EZ Logger 的项目设置：

```
方式1: Unity菜单 → Edit → Project Settings → EZ Logger
方式2: 菜单 Tools → EZ Logger → Open Settings  
方式3: 快捷键 Ctrl+Shift+, 然后搜索 "EZ Logger"
```

### 2. 快速配置预设

界面顶部提供了4个预设按钮，适合不同使用场景：

- **开发模式**: 启用所有日志级别，适合开发调试
- **发布模式**: 只启用警告和错误，适合正式发布
- **性能模式**: 最小开销配置，适合性能敏感场景
- **重置为默认**: 恢复到默认配置

## 📋 配置分类详解

### 基础配置
- **全局启用级别**: 控制哪些日志级别会被处理
- **性能模式**: 启用零GC分配优化
- **堆栈跟踪**: 是否记录调用堆栈（影响性能）

### 异步处理
- **启用异步写入**: 避免IO操作阻塞主线程
- **队列最大大小**: 异步日志队列的容量
- **缓冲区大小**: 字符串缓冲区大小

### Unity控制台
- **启用颜色**: Unity控制台中的彩色输出
- **显示帧数**: 在日志中显示当前帧数
- **显示线程ID**: 显示日志来源线程
- **最小输出级别**: 控制台输出的最小级别

### 文件输出
- **日志目录**: 日志文件保存位置
- **文件名模板**: 日志文件命名规则
- **最大文件大小**: 单个日志文件的大小限制
- **启用文件压缩**: 压缩日志文件节省空间

### 服务器上报
- **服务器URL**: 错误上报的服务器地址
- **超时时间**: HTTP请求超时设置
- **批量大小**: 批量发送的日志数量
- **最小上报级别**: 只上报指定级别以上的日志

### 系统监控
- **启用系统日志监控**: 自动捕获Unity内部错误
- **防重复处理**: 避免同一错误的重复上报

## 🔧 使用示例

### 开发环境配置
```
全局启用级别: All
性能模式: 关闭
堆栈跟踪: 启用
异步写入: 启用
文件输出: 启用
服务器上报: 关闭
系统监控: 启用
```

### 生产环境配置
```
全局启用级别: WarningAndAbove
性能模式: 启用
堆栈跟踪: 关闭
异步写入: 启用
文件输出: 启用
服务器上报: 启用
系统监控: 启用
```

### 性能测试配置
```
全局启用级别: ErrorAndAbove
性能模式: 启用
堆栈跟踪: 关闭
异步写入: 启用
文件输出: 关闭
服务器上报: 关闭
系统监控: 关闭
```

## 🛠️ 实用功能

### 实时应用
设置修改后会立即应用到运行中的游戏，无需重启。

### 配置导入导出
- **导出配置**: 将当前设置导出为JSON文件
- **导入配置**: 从JSON文件导入设置
- 方便团队共享配置或在不同项目间复用

### 便捷操作
- **打开日志目录**: 直接打开系统文件管理器到日志目录
- **测试服务器连接**: 验证服务器URL的连通性
- **运行时测试**: 快速测试各种日志级别和API

### 菜单集成
`Tools → EZ Logger` 菜单提供了常用操作的快捷入口：
- Apply Settings: 手动应用设置到运行时
- Open Settings: 打开项目设置界面
- Create Default Settings: 创建默认配置文件
- Runtime Test: 运行时功能测试

## 📁 配置文件位置

设置会保存在项目中的以下位置：
```
Assets/Settings/EZLoggerSettings.asset
```

这个文件会被自动创建，建议将其包含在版本控制中，方便团队协作。

## ⚡ 运行时集成

项目设置会在以下时机自动应用：
1. 进入Play Mode时
2. 手动调用Apply Settings时
3. 设置界面中修改参数时（实时应用）

## 🎯 最佳实践

### 1. 分环境配置
为不同环境创建不同的配置预设：
- Development: 全量日志 + 本地文件
- Staging: 关键日志 + 服务器上报
- Production: 最少日志 + 服务器上报

### 2. 性能考虑
- 生产环境建议启用性能模式
- 移动平台建议关闭堆栈跟踪
- 对性能敏感的游戏建议只保留错误级别

### 3. 团队协作
- 将设置文件提交到版本控制
- 使用导入导出功能同步团队配置
- 在CI/CD中自动应用生产环境配置

### 4. 调试技巧
- 开发时启用所有级别和系统监控
- 使用Runtime Test验证配置是否生效
- 通过打开日志目录检查文件输出

通过这个图形化配置界面，你可以轻松管理 EZ Logger 的所有功能，无需编写代码即可实现复杂的日志配置需求。
