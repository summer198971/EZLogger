---
description: "Unity Packageå¼€å‘ä¸­çš„å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ"
alwaysApply: true
---

# Unity Package å¼€å‘é—®é¢˜æ€»ç»“ä¸è§£å†³æ–¹æ¡ˆ

åŸºäºEZ Loggeré¡¹ç›®çš„å¼€å‘ç»éªŒï¼Œæ€»ç»“å¸¸è§é—®é¢˜å’Œæœ€ä½³å®è·µã€‚

## ğŸš¨ Unity Package Manager è­¦å‘Šé—®é¢˜

### é—®é¢˜1: "has no meta file" è­¦å‘Š
**ç—‡çŠ¶**: 
```
Asset Packages/com.example.package/filename has no meta file, but it's in an immutable folder. The asset will be ignored.
```

**æ ¹æœ¬åŸå› **:
1. å¼€å‘å·¥å…·æ–‡ä»¶è¢«åŒ…å«åœ¨Unity Packageä¸­
2. æ„å»ºé…ç½®æ–‡ä»¶è¢«Gitè·Ÿè¸ªå¹¶åŒ…å«åœ¨åˆ†å‘ä¸­
3. .metaæ–‡ä»¶åœ¨package.jsonçš„fileså­—æ®µä¸­æœªæ˜ç¡®æŒ‡å®š

**è§£å†³æ–¹æ¡ˆ**:
1. **å››å±‚æ–‡ä»¶è¿‡æ»¤ä¿æŠ¤**:
   - `.gitignore` - é˜²æ­¢æœ¬åœ°è·Ÿè¸ªä¸éœ€è¦çš„æ–‡ä»¶
   - `.gitattributes` - æ§åˆ¶Gitå¯¼å‡ºè¡Œä¸º
   - `.npmignore` - NPMé£æ ¼çš„åŒ…ç®¡ç†è¿‡æ»¤
   - `package.json` fileså­—æ®µ - ç²¾ç¡®æ§åˆ¶åŒ…å«æ–‡ä»¶

2. **å¼€å‘å·¥å…·éš”ç¦»**:
   ```bash
   # å°†å¼€å‘å·¥å…·ç§»è‡³ä¸“é—¨ç›®å½•
   DevTools/
   â”œâ”€â”€ Scripts/
   â”‚   â”œâ”€â”€ build-package.sh
   â”‚   â””â”€â”€ validate-package.sh
   â””â”€â”€ GitHub-Upload-Instructions.md
   ```

3. **æ˜ç¡®æŒ‡å®š.metaæ–‡ä»¶**:
   ```json
   {
     "files": [
       "Runtime/**/*",
       "Runtime.meta",
       "Editor/**/*", 
       "Editor.meta",
       "Tests/**/*",
       "Tests.meta",
       "README.md",
       "README.md.meta",
       "package.json",
       "package.json.meta"
     ]
   }
   ```

### é—®é¢˜2: æ„å»ºé…ç½®æ–‡ä»¶æ±¡æŸ“
**ç—‡çŠ¶**: package-build.jsonç­‰æ„å»ºæ–‡ä»¶å‡ºç°åœ¨Unity Packageä¸­

**è§£å†³æ–¹æ¡ˆ**:
```bash
# ä»Gitè·Ÿè¸ªä¸­ç§»é™¤
git rm --cached package-build.json package-build.json.meta

# æ·»åŠ åˆ°.gitignore
echo "package-build.json" >> .gitignore
echo "package-build.json.meta" >> .gitignore
```

## ğŸ“… ç‰ˆæœ¬ç®¡ç†é—®é¢˜

### é—®é¢˜3: é”™è¯¯çš„æ—¥æœŸæ ¼å¼
**ç—‡çŠ¶**: CHANGELOG.mdä¸­ä½¿ç”¨äº†é”™è¯¯çš„å¹´ä»½æˆ–æ—¥æœŸ

**è§£å†³æ–¹æ¡ˆ**:
```bash
# å§‹ç»ˆæ£€æŸ¥ç³»ç»Ÿæ—¥æœŸ
date
# è¾“å‡º: 2025å¹´ 8æœˆ 8æ—¥ æ˜ŸæœŸäº”

# CHANGELOG.mdæ ¼å¼
## [1.0.x] - 2025-08-08
```

**é¢„é˜²æªæ–½**:
- å‘å¸ƒå‰åŒé‡æ£€æŸ¥æ—¥æœŸ
- ä½¿ç”¨ISOæ ¼å¼: YYYY-MM-DD

## ğŸ”§ Git å·¥ä½œæµé—®é¢˜

### é—®é¢˜4: åˆ†æ”¯ç®¡ç†æ··ä¹±
**ç—‡çŠ¶**: åœ¨é”™è¯¯åˆ†æ”¯ä¸Šæäº¤æ”¹åŠ¨

**æœ€ä½³å®è·µ**:
```bash
# æ£€æŸ¥å½“å‰åˆ†æ”¯
git branch -a

# åŠŸèƒ½å¼€å‘ä½¿ç”¨ç‰¹æ€§åˆ†æ”¯
git checkout -b feature/unity-package-fixes

# å®Œæˆååˆå¹¶åˆ°ä¸»åˆ†æ”¯
git checkout master
git merge feature/unity-package-fixes
git branch -d feature/unity-package-fixes
```

## ğŸ“¦ Package.json é…ç½®é—®é¢˜

### é—®é¢˜5: fileså­—æ®µè¿‡äºå®½æ³›
**é”™è¯¯åšæ³•**:
```json
{
  "files": ["*.md", "*.json"]  // åŒ…å«äº†ä¸éœ€è¦çš„æ–‡ä»¶
}
```

**æ­£ç¡®åšæ³•**:
```json
{
  "files": [
    "Runtime/**/*",
    "Runtime.meta",
    "Editor/**/*", 
    "Editor.meta",
    "Tests/**/*",
    "Tests.meta",
    "Samples~/**/*",
    "Documentation~/**/*",
    "README.md",
    "README.md.meta",
    "CHANGELOG.md", 
    "CHANGELOG.md.meta",
    "LICENSE.md",
    "LICENSE.md.meta",
    "package.json",
    "package.json.meta"
  ]
}
```

## ğŸ›¡ï¸ å®Œæ•´çš„ä¿æŠ¤é…ç½®æ¨¡æ¿

### .gitignore
```
# Unity generated files
*.tmp
*.temp
Temp/
Library/
Logs/

# Build outputs  
Build/
Builds/

# Development tools (not part of Unity Package)
DevTools/

# Build configuration files
package-build.json
package-build.json.meta

# OS generated files
.DS_Store
Thumbs.db

# Temporary files
*.log
*.cache
```

### .gitattributes
```
# Unity Package Manager configuration
DevTools/ export-ignore
Build/ export-ignore
.cursor/ export-ignore
package-build.json export-ignore
package-build.json.meta export-ignore
.gitignore export-ignore
.gitattributes export-ignore
.npmignore export-ignore
```

### .npmignore
```
# æ’é™¤å¼€å‘å·¥å…·æ–‡ä»¶
DevTools/
Build/
.cursor/

# æ’é™¤æ„å»ºé…ç½®æ–‡ä»¶
package-build.json
package-build.json.meta

# æ’é™¤Gitç›¸å…³æ–‡ä»¶
.git/
.gitignore
.gitattributes
.npmignore

# æ’é™¤ä¸´æ—¶æ–‡ä»¶
*.log
.DS_Store
Thumbs.db
```

## ğŸ” éªŒè¯æ¸…å•

å‘å¸ƒUnity Packageå‰å¿…é¡»æ£€æŸ¥:

1. **æ–‡ä»¶æ¸…ç†**:
   ```bash
   # æ£€æŸ¥Gitè·Ÿè¸ªçš„æ–‡ä»¶
   git ls-files | grep -E "(build|dev|temp)"
   
   # åº”è¯¥æ²¡æœ‰è¾“å‡ºï¼Œå¦‚æœ‰åˆ™éœ€è¦æ¸…ç†
   ```

2. **metaæ–‡ä»¶å®Œæ•´æ€§**:
   ```bash
   # æ£€æŸ¥é‡è¦æ–‡ä»¶çš„metaæ–‡ä»¶
   ls -la *.meta
   ls -la Runtime.meta Editor.meta Tests.meta
   ```

3. **ç‰ˆæœ¬ä¸€è‡´æ€§**:
   - package.jsonä¸­çš„version
   - CHANGELOG.mdä¸­çš„ç‰ˆæœ¬
   - Gitæ ‡ç­¾

4. **æ—¥æœŸæ­£ç¡®æ€§**:
   ```bash
   date  # ç¡®è®¤å½“å‰æ—¥æœŸ
   grep -n "202[0-9]-" CHANGELOG.md  # æ£€æŸ¥ç‰ˆæœ¬æ—¥æœŸ
   ```

## ğŸš€ å‘å¸ƒæµç¨‹

1. **å¼€å‘**:
   ```bash
   git checkout -b feature/new-feature
   # å¼€å‘å’Œæµ‹è¯•
   ```

2. **ç‰ˆæœ¬å‡†å¤‡**:
   ```bash
   # æ›´æ–°ç‰ˆæœ¬å·
   # æ›´æ–°CHANGELOG.md (ä½¿ç”¨æ­£ç¡®æ—¥æœŸ)
   # æ£€æŸ¥package.json fileså­—æ®µ
   ```

3. **æµ‹è¯•éªŒè¯**:
   ```bash
   # æœ¬åœ°Unityé¡¹ç›®æµ‹è¯•å®‰è£…
   # æ£€æŸ¥æ˜¯å¦æœ‰è­¦å‘Š
   ```

4. **å‘å¸ƒ**:
   ```bash
   git checkout master
   git merge feature/new-feature
   git tag -a "v1.0.x" -m "ç‰ˆæœ¬æè¿°"
   git push origin master --tags
   ```

## âš ï¸ ç‰¹åˆ«æ³¨æ„

- **æ°¸è¿œä¸è¦**å°†å¼€å‘å·¥å…·æ–‡ä»¶ç›´æ¥æ”¾åœ¨åŒ…æ ¹ç›®å½•
- **å§‹ç»ˆéªŒè¯**Unity Package Managerå®‰è£…ç»“æœ
- **å¤šå±‚ä¿æŠ¤**æ¯”å•ä¸€æ–¹æ³•æ›´å¯é 
- **ç‰ˆæœ¬å‘å¸ƒå‰**å¿…é¡»åœ¨å¹²å‡€çš„Unityé¡¹ç›®ä¸­æµ‹è¯•å®‰è£…