---
description: "EZ Loggeré¡¹ç›®ä¸­.metaæ–‡ä»¶ç®¡ç†çš„æœ€ä½³å®è·µ"
globs: "*.meta,package.json,*.mdc"
---

# EZ Logger .metaæ–‡ä»¶ç®¡ç†è§„èŒƒ

åŸºäºå®é™…å¼€å‘ä¸­é‡åˆ°çš„"has no meta file"é—®é¢˜çš„è§£å†³ç»éªŒã€‚

## ğŸ¯ æ ¸å¿ƒåŸåˆ™

### 1. æ‰€æœ‰Unityéœ€è¦çš„æ–‡ä»¶éƒ½å¿…é¡»æœ‰å¯¹åº”çš„.metaæ–‡ä»¶
```
æ–‡ä»¶ç»“æ„:
Runtime/                     # æ–‡ä»¶å¤¹
â”œâ”€â”€ Runtime.meta            # âœ… æ–‡ä»¶å¤¹çš„metaæ–‡ä»¶
â”œâ”€â”€ Core/                   # å­æ–‡ä»¶å¤¹  
â”‚   â”œâ”€â”€ Core.meta           # âœ… å­æ–‡ä»¶å¤¹çš„metaæ–‡ä»¶
â”‚   â”œâ”€â”€ LogLevel.cs         # C#æ–‡ä»¶
â”‚   â””â”€â”€ LogLevel.cs.meta    # âœ… C#æ–‡ä»¶çš„metaæ–‡ä»¶
â””â”€â”€ EZLogger.Runtime.asmdef # Assembly Definition
    â””â”€â”€ EZLogger.Runtime.asmdef.meta  # âœ… asmdefçš„metaæ–‡ä»¶
```

### 2. package.jsonä¸­å¿…é¡»æ˜ç¡®åˆ—å‡ºæ‰€æœ‰.metaæ–‡ä»¶
```json
{
  "files": [
    "Runtime/**/*",          // åŒ…å«Runtimeä¸‹æ‰€æœ‰æ–‡ä»¶
    "Runtime.meta",          // âš ï¸ å¿…é¡»å•ç‹¬æŒ‡å®šæ–‡ä»¶å¤¹çš„meta
    "Editor/**/*",
    "Editor.meta",           // âš ï¸ å¿…é¡»å•ç‹¬æŒ‡å®šæ–‡ä»¶å¤¹çš„meta
    "Tests/**/*", 
    "Tests.meta",            // âš ï¸ å¿…é¡»å•ç‹¬æŒ‡å®šæ–‡ä»¶å¤¹çš„meta
    "package.json",
    "package.json.meta"      // âš ï¸ è¿package.jsonéƒ½éœ€è¦meta
  ]
}
```

## ğŸš¨ å¸¸è§é”™è¯¯æ¨¡å¼

### é”™è¯¯1: å¿˜è®°æ–‡ä»¶å¤¹çº§åˆ«çš„.metaæ–‡ä»¶
```
âŒ é”™è¯¯:
"files": ["Runtime/**/*"]  // ä¸åŒ…å«Runtime.meta

âœ… æ­£ç¡®:
"files": [
  "Runtime/**/*",
  "Runtime.meta"           // æ˜¾å¼åŒ…å«æ–‡ä»¶å¤¹meta
]
```

### é”™è¯¯2: é€šé…ç¬¦åŒ¹é…ä¸å¤Ÿç²¾ç¡®
```
âŒ é”™è¯¯:
"files": ["*.md", "*.json"]  // å¯èƒ½åŒ…å«ä¸éœ€è¦çš„æ–‡ä»¶

âœ… æ­£ç¡®:
"files": [
  "README.md",
  "README.md.meta",
  "CHANGELOG.md", 
  "CHANGELOG.md.meta",
  "LICENSE.md",
  "LICENSE.md.meta",
  "package.json",
  "package.json.meta"
]
```

## ğŸ” æ£€æŸ¥æ–¹æ³•

### 1. æœ¬åœ°éªŒè¯
```bash
# æ£€æŸ¥æ‰€æœ‰è¢«Gitè·Ÿè¸ªçš„.metaæ–‡ä»¶
git ls-files | grep -E "\.(meta)$"

# åº”è¯¥çœ‹åˆ°æ‰€æœ‰é‡è¦æ–‡ä»¶çš„metaæ–‡ä»¶:
# Runtime.meta
# Editor.meta
# Tests.meta
# README.md.meta
# CHANGELOG.md.meta
# LICENSE.md.meta
# package.json.meta
```

### 2. Unityé¡¹ç›®ä¸­æµ‹è¯•
åœ¨å¹²å‡€çš„Unityé¡¹ç›®ä¸­é€šè¿‡Package Managerå®‰è£…ï¼Œæ£€æŸ¥Consoleæ˜¯å¦æœ‰:
```
Asset Packages/com.ezgame.logger/XXX has no meta file
```

### 3. åŒ…å†…å®¹éªŒè¯
ä½¿ç”¨Gitå½’æ¡£éªŒè¯åŒ…å†…å®¹:
```bash
git archive --format=zip HEAD -o test-package.zip
unzip -l test-package.zip | grep -E "\.(meta)$"
```

## ğŸ“‹ EZ Loggeræ ‡å‡†é…ç½®

### å®Œæ•´çš„fileså­—æ®µé…ç½®
```json
{
  "name": "com.ezgame.logger",
  "version": "1.0.4",
  "files": [
    "Runtime/**/*",
    "Runtime.meta",
    "Editor/**/*", 
    "Editor.meta",
    "Tests/**/*",
    "Tests.meta",
    "Samples~/**/*",
    "Documentation~/**/*",
    "README.md",
    "README.md.meta",
    "CHANGELOG.md",
    "CHANGELOG.md.meta", 
    "LICENSE.md",
    "LICENSE.md.meta",
    "package.json",
    "package.json.meta"
  ]
}
```

### å¿…é¡»å­˜åœ¨çš„.metaæ–‡ä»¶æ¸…å•
```
é¡¹ç›®æ ¹ç›®å½•:
â”œâ”€â”€ Runtime.meta              # âœ… Runtimeæ–‡ä»¶å¤¹
â”œâ”€â”€ Editor.meta               # âœ… Editoræ–‡ä»¶å¤¹  
â”œâ”€â”€ Tests.meta                # âœ… Testsæ–‡ä»¶å¤¹
â”œâ”€â”€ README.md.meta            # âœ… READMEæ–‡æ¡£
â”œâ”€â”€ CHANGELOG.md.meta         # âœ… æ›´æ–°æ—¥å¿—
â”œâ”€â”€ LICENSE.md.meta           # âœ… è®¸å¯è¯
â””â”€â”€ package.json.meta         # âœ… åŒ…å®šä¹‰æ–‡ä»¶

Runtimeå­ç›®å½•:
â”œâ”€â”€ Runtime/Core.meta         # âœ… Coreå­æ–‡ä»¶å¤¹
â”œâ”€â”€ Runtime/Utils.meta        # âœ… Utilså­æ–‡ä»¶å¤¹
â”œâ”€â”€ Runtime/Appenders.meta    # âœ… Appenderså­æ–‡ä»¶å¤¹
â””â”€â”€ Runtime/EZLogger.Runtime.asmdef.meta  # âœ… Assembly Definition

Editorå­ç›®å½•:
â””â”€â”€ Editor/EZLogger.Editor.asmdef.meta    # âœ… Editor Assembly Definition

Testså­ç›®å½•:
â”œâ”€â”€ Tests/Runtime.meta        # âœ… Tests Runtimeå­æ–‡ä»¶å¤¹
â”œâ”€â”€ Tests/Editor.meta         # âœ… Tests Editorå­æ–‡ä»¶å¤¹
â”œâ”€â”€ Tests/Runtime/EZLogger.Tests.asmdef.meta      # âœ… Tests Runtime asmdef
â””â”€â”€ Tests/Editor/EZLogger.Editor.Tests.asmdef.meta # âœ… Tests Editor asmdef
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¦‚æœUnityä»ç„¶æŠ¥å‘Šmissing meta file:

1. **æ¸…ç†Unityç¼“å­˜**:
   ```bash
   # åˆ é™¤Unityçš„Packageç¼“å­˜
   rm -rf ~/Library/Unity/Asset\ Store-5.x/
   ```

2. **é‡æ–°å®‰è£…åŒ…**:
   - åœ¨Package Managerä¸­ç§»é™¤åŒ…
   - é‡æ–°æ·»åŠ Git URL

3. **éªŒè¯Gitè·Ÿè¸ª**:
   ```bash
   # ç¡®ä¿æ‰€æœ‰metaæ–‡ä»¶éƒ½è¢«Gitè·Ÿè¸ª
   git add *.meta **/*.meta
   git commit -m "ç¡®ä¿æ‰€æœ‰metaæ–‡ä»¶è¢«è·Ÿè¸ª"
   ```

4. **å‡çº§ç‰ˆæœ¬å·**:
   - æ›´æ–°package.jsonç‰ˆæœ¬å·
   - åˆ›å»ºæ–°çš„Gitæ ‡ç­¾
   - å¼ºåˆ¶Unityé‡æ–°ä¸‹è½½

## âš¡ è‡ªåŠ¨åŒ–æ£€æŸ¥è„šæœ¬

```bash
#!/bin/bash
# check-meta-files.sh

echo "ğŸ” æ£€æŸ¥EZ Loggeré¡¹ç›®çš„.metaæ–‡ä»¶å®Œæ•´æ€§..."

# æ£€æŸ¥å…³é”®æ–‡ä»¶å¤¹çš„metaæ–‡ä»¶
folders=("Runtime" "Editor" "Tests")
for folder in "${folders[@]}"; do
    if [ ! -f "${folder}.meta" ]; then
        echo "âŒ ç¼ºå¤±: ${folder}.meta"
        exit 1
    else
        echo "âœ… å­˜åœ¨: ${folder}.meta"
    fi
done

# æ£€æŸ¥å…³é”®æ–‡æ¡£çš„metaæ–‡ä»¶  
files=("README.md" "CHANGELOG.md" "LICENSE.md" "package.json")
for file in "${files[@]}"; do
    if [ ! -f "${file}.meta" ]; then
        echo "âŒ ç¼ºå¤±: ${file}.meta"
        exit 1
    else
        echo "âœ… å­˜åœ¨: ${file}.meta"
    fi
done

echo "ğŸ‰ æ‰€æœ‰å¿…è¦çš„.metaæ–‡ä»¶éƒ½å­˜åœ¨!"
```

## ğŸ“ æäº¤æ£€æŸ¥æ¸…å•

å‘å¸ƒå‰å¿…é¡»ç¡®è®¤:
- [ ] æ‰€æœ‰æ–‡ä»¶å¤¹éƒ½æœ‰å¯¹åº”çš„.metaæ–‡ä»¶
- [ ] æ‰€æœ‰é‡è¦æ–‡æ¡£éƒ½æœ‰å¯¹åº”çš„.metaæ–‡ä»¶  
- [ ] package.jsonçš„fileså­—æ®µåŒ…å«æ‰€æœ‰.metaæ–‡ä»¶
- [ ] Gitè·Ÿè¸ªæ‰€æœ‰å¿…è¦çš„.metaæ–‡ä»¶
- [ ] åœ¨å¹²å‡€Unityé¡¹ç›®ä¸­æµ‹è¯•å®‰è£…æ— è­¦å‘Š