---
description: "Cursorç¼–è¾‘å™¨åœ¨Unity Packageé¡¹ç›®ä¸­çš„é…ç½®å’Œé—®é¢˜è§£å†³"
alwaysApply: true
---

# Cursorç¼–è¾‘å™¨Unity Packageé¡¹ç›®é…ç½®

è§£å†³Unity Packageé¡¹ç›®ä¸­ä»£ç æç¤ºå’Œå¼•ç”¨é”™è¯¯çš„é—®é¢˜ã€‚

## ğŸš¨ å¸¸è§é—®é¢˜

### é—®é¢˜: Cursorä¸­C#ä»£ç æç¤ºå’Œå¼•ç”¨ä¸æ­£ç¡®
**ç—‡çŠ¶**:
- ä»£ç æç¤ºä¸å·¥ä½œæˆ–ä¸å‡†ç¡®
- æ— æ³•è·³è½¬åˆ°å®šä¹‰
- UnityEngineå‘½åç©ºé—´æ— æ³•è¯†åˆ«
- é¡¹ç›®é—´å¼•ç”¨å…³ç³»é”™è¯¯

**æ ¹æœ¬åŸå› **:
1. Unity Packageé¡¹ç›®æ²¡æœ‰æ ‡å‡†çš„.csproj/.slnæ–‡ä»¶
2. Cursoræ— æ³•è¯†åˆ«Unity Assembly Definition (.asmdef) æ–‡ä»¶
3. ç¼ºå°‘Unityå¼•æ“çš„å¼•ç”¨é…ç½®

## âœ… è§£å†³æ–¹æ¡ˆ

### 1. åˆ›å»º.csprojé¡¹ç›®æ–‡ä»¶

ä¸ºæ¯ä¸ªAssembly Definitionåˆ›å»ºå¯¹åº”çš„.csprojæ–‡ä»¶:

#### EZLogger.Runtime.csproj
```xml
<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFramework>netstandard2.1</TargetFramework>
    <RootNamespace>EZLogger</RootNamespace>
    <AssemblyName>EZLogger.Runtime</AssemblyName>
    <LangVersion>8.0</LangVersion>
  </PropertyGroup>

  <ItemGroup>
    <Compile Include="Runtime/**/*.cs" />
    <Compile Remove="Runtime/**/*.cs.meta" />
  </ItemGroup>

  <ItemGroup>
    <!-- Unity Engine References -->
    <Reference Include="UnityEngine.CoreModule">
      <HintPath>/Applications/Unity/Hub/Editor/2022.3.31f1/Unity.app/Contents/Managed/UnityEngine/UnityEngine.CoreModule.dll</HintPath>
      <Private>false</Private>
    </Reference>
    <Reference Include="UnityEngine">
      <HintPath>/Applications/Unity/Hub/Editor/2022.3.31f1/Unity.app/Contents/Managed/UnityEngine/UnityEngine.dll</HintPath>
      <Private>false</Private>
    </Reference>
  </ItemGroup>
</Project>
```

#### EZLogger.Editor.csproj
```xml
<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFramework>netstandard2.1</TargetFramework>
    <RootNamespace>EZLogger.Editor</RootNamespace>
    <AssemblyName>EZLogger.Editor</AssemblyName>
  </PropertyGroup>

  <ItemGroup>
    <Compile Include="Editor/**/*.cs" />
    <Compile Remove="Editor/**/*.cs.meta" />
  </ItemGroup>

  <ItemGroup>
    <!-- Project References -->
    <ProjectReference Include="EZLogger.Runtime.csproj" />
  </ItemGroup>

  <ItemGroup>
    <!-- Unity Engine + Editor References -->
    <Reference Include="UnityEngine.CoreModule">...</Reference>
    <Reference Include="UnityEditor.CoreModule">...</Reference>
  </ItemGroup>
</Project>
```

### 2. åˆ›å»ºè§£å†³æ–¹æ¡ˆæ–‡ä»¶

**EZLogger.sln**:
```
Microsoft Visual Studio Solution File, Format Version 12.00
Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "EZLogger.Runtime", "EZLogger.Runtime.csproj", "{GUID}"
Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "EZLogger.Editor", "EZLogger.Editor.csproj", "{GUID}"
...
```

### 3. åˆ›å»ºVSCode/Cursoré…ç½®

**.vscode/settings.json**:
```json
{
  "omnisharp.defaultLaunchSolution": "EZLogger.sln",
  "dotnet.defaultSolution": "EZLogger.sln",
  "files.associations": {
    "*.asmdef": "json",
    "*.meta": "yaml"
  },
  "files.exclude": {
    "**/*.meta": false,
    "**/Library": true,
    "**/Temp": true
  },
  "dotnet.completion.showCompletionItemsFromUnimportedNamespaces": true,
  "csharp.semanticHighlighting.enabled": true
}
```

### 4. Unityè·¯å¾„é…ç½®

**é‡è¦**: æ ¹æ®å®é™…Unityå®‰è£…è·¯å¾„è°ƒæ•´å¼•ç”¨:

```bash
# æŸ¥æ‰¾Unityå®‰è£…è·¯å¾„
find /Applications -name "Unity.app" -type d 2>/dev/null

# ç¤ºä¾‹è¾“å‡º: /Applications/Unity/Hub/Editor/2022.3.31f1/Unity.app
```

åœ¨.csprojæ–‡ä»¶ä¸­ä½¿ç”¨æ­£ç¡®çš„è·¯å¾„:
```xml
<Reference Include="UnityEngine.CoreModule">
  <HintPath>/Applications/Unity/Hub/Editor/[YOUR_VERSION]/Unity.app/Contents/Managed/UnityEngine/UnityEngine.CoreModule.dll</HintPath>
</Reference>
```

## ğŸ”§ é…ç½®æ­¥éª¤

### è‡ªåŠ¨åŒ–è„šæœ¬
```bash
#!/bin/bash
# setup-cursor-project.sh

echo "ğŸ”§ é…ç½®Cursorç¼–è¾‘å™¨Unity Packageé¡¹ç›®..."

# 1. æŸ¥æ‰¾Unityå®‰è£…è·¯å¾„
UNITY_PATH=$(find /Applications -name "Unity.app" -type d 2>/dev/null | head -1)
if [ -z "$UNITY_PATH" ]; then
    echo "âŒ æœªæ‰¾åˆ°Unityå®‰è£…ï¼Œè¯·æ‰‹åŠ¨é…ç½®Unityè·¯å¾„"
    exit 1
fi

echo "âœ… æ‰¾åˆ°Unity: $UNITY_PATH"

# 2. åˆ›å»ºé¡¹ç›®æ–‡ä»¶
echo "ğŸ“ åˆ›å»º.csprojæ–‡ä»¶..."
# (è„šæœ¬ä¸­è‡ªåŠ¨ç”Ÿæˆ.csprojæ–‡ä»¶ï¼Œæ›¿æ¢Unityè·¯å¾„)

# 3. åˆ›å»ºVSCodeé…ç½®
echo "âš™ï¸ åˆ›å»ºVSCodeé…ç½®..."
mkdir -p .vscode
# (ç”Ÿæˆsettings.jsonç­‰é…ç½®æ–‡ä»¶)

# 4. é‡å¯Cursor
echo "ğŸ”„ è¯·é‡å¯Cursorç¼–è¾‘å™¨ä»¥åº”ç”¨é…ç½®"
```

## ğŸ“‹ éªŒè¯æ¸…å•

é…ç½®å®ŒæˆåéªŒè¯:

1. **é‡å¯Cursorç¼–è¾‘å™¨**
2. **ç­‰å¾…OmniSharpåŠ è½½å®Œæˆ** (çŠ¶æ€æ æ˜¾ç¤º"Ready")
3. **æµ‹è¯•ä»£ç æç¤º**:
   - è¾“å…¥`UnityEngine.`åº”è¯¥æœ‰ä»£ç æç¤º
   - `Ctrl+ç‚¹å‡»`åº”è¯¥èƒ½è·³è½¬åˆ°å®šä¹‰
   - é¡¹ç›®é—´å¼•ç”¨åº”è¯¥æ­£ç¡®è§£æ

4. **æ£€æŸ¥é—®é¢˜é¢æ¿**:
   - åº”è¯¥æ²¡æœ‰"æ‰¾ä¸åˆ°ç¨‹åºé›†"é”™è¯¯
   - è¯­æ³•é«˜äº®åº”è¯¥æ­£å¸¸

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. Unityç‰ˆæœ¬å…¼å®¹æ€§
ä¸åŒUnityç‰ˆæœ¬çš„DLLè·¯å¾„å¯èƒ½ä¸åŒï¼Œéœ€è¦æ ¹æ®å®é™…å®‰è£…è°ƒæ•´ã€‚

### 2. .gitignoreé…ç½®
è¿™äº›IDEé…ç½®æ–‡ä»¶å’Œæ„å»ºäº§ç‰©ä¸åº”åŒ…å«åœ¨Unity Packageä¸­:
```
# Build outputs  
Build/
Builds/
bin/
obj/

# IDE and development configuration files
*.csproj
*.sln
.vscode/
.editorconfig

# .NET specific
*.suo
*.user
*.userosscache
*.sln.docstates
project.lock.json
project.fragment.lock.json
artifacts/
```

### 3. æ€§èƒ½ä¼˜åŒ–
å¯¹äºå¤§å‹é¡¹ç›®ï¼Œå¯ä»¥åœ¨settings.jsonä¸­é…ç½®:
```json
{
  "omnisharp.enableMsBuildLoadProjectsOnDemand": false,
  "omnisharp.projectLoadTimeout": 120
}
```

### 4. æ•…éšœæ’é™¤
å¦‚æœä»æœ‰é—®é¢˜:
1. æ¸…ç†OmniSharpç¼“å­˜: `Ctrl+Shift+P` â†’ "OmniSharp: Restart OmniSharp"
2. æ£€æŸ¥Outputé¢æ¿çš„OmniSharp Log
3. ç¡®è®¤Unity DLLæ–‡ä»¶å­˜åœ¨å¹¶å¯è®¿é—®
4. æ£€æŸ¥.csprojæ–‡ä»¶ä¸­çš„è·¯å¾„æ˜¯å¦æ­£ç¡®

## ğŸš€ æœ€ä½³å®è·µ

1. **è‡ªåŠ¨åŒ–é…ç½®**: åˆ›å»ºsetupè„šæœ¬è‡ªåŠ¨ç”Ÿæˆé…ç½®æ–‡ä»¶
2. **ç‰ˆæœ¬ç®¡ç†**: ä½¿ç”¨å˜é‡ç®¡ç†Unityç‰ˆæœ¬ï¼Œä¾¿äºæ›´æ–°
3. **å›¢é˜Ÿåä½œ**: ä¸ºå›¢é˜Ÿåˆ›å»ºç»Ÿä¸€çš„é…ç½®æ¨¡æ¿
4. **æ–‡æ¡£æ›´æ–°**: åœ¨READMEä¸­è¯´æ˜å¼€å‘ç¯å¢ƒé…ç½®æ­¥éª¤

è¿™æ ·é…ç½®åï¼ŒCursorç¼–è¾‘å™¨å°±èƒ½æ­£ç¡®æä¾›C#ä»£ç æç¤ºå’Œå¼•ç”¨è·³è½¬åŠŸèƒ½äº†ã€‚